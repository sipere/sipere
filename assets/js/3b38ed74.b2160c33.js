"use strict";(globalThis.webpackChunksiperweb=globalThis.webpackChunksiperweb||[]).push([[747],{2980:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"migrations/seeder","title":"Seeders","description":"Generate seeder file","source":"@site/docs/4_migrations/seeder.md","sourceDirName":"4_migrations","slug":"/migrations/seeder","permalink":"/sipere/docs/migrations/seeder","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Migrations","permalink":"/sipere/docs/migrations/migration"},"next":{"title":"Testing","permalink":"/sipere/docs/tests/testing"}}');var a=s(4848),l=s(8453);const d={sidebar_position:2},i="Seeders",t={},o=[{value:"Generate seeder file",id:"generate-seeder-file",level:2},{value:"Write seeder",id:"write-seeder",level:2},{value:"Run seeder",id:"run-seeder",level:2},{value:"Reset seeders",id:"reset-seeders",level:2},{value:"Rollback seeder",id:"rollback-seeder",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"seeders",children:"Seeders"})}),"\n",(0,a.jsx)(n.h2,{id:"generate-seeder-file",children:"Generate seeder file"}),"\n",(0,a.jsx)(n.p,{children:"Generate new seeder file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op make:seeder <migration_name>\n"})}),"\n",(0,a.jsx)(n.p,{children:"For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op make:seeder employee\n"})}),"\n",(0,a.jsx)(n.p,{children:"Possible file name:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"2025_12_13_112951_seed_employee.js"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"write-seeder",children:"Write seeder"}),"\n",(0,a.jsx)(n.p,{children:"The migration file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import db from '../../app/models/modrels.js';\n\nasync function up({context: QueryInterface}) {\n  if(db.Employee) {\n    await db.Employee.bulkCreate([\n      \n    ]);\n  }else {\n    await QueryInterface.bulkInsert('employees', [\n\n    ]);\n  }\n\n}\n\nasync function down({context: QueryInterface}) {\n  await QueryInterface.bulkDelete('employees');\n}\n\nexport { up, down }\n"})}),"\n",(0,a.jsx)(n.p,{children:"If there is a model and it is registered in the modrels.js file, then we can use the bulkCreate() function. It is recommended to use this. If there is no model, we can use the bulkInsert() function."}),"\n",(0,a.jsx)(n.p,{children:"For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"    await db.Employee.bulkCreate([\n      { name: 'John Doe' },\n      { name: 'Jane Doe' }\n    ]);\n"})}),"\n",(0,a.jsx)(n.p,{children:"Complett file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:"import db from '../../app/models/modrels.js';\n\nasync function up({context: QueryInterface}) {\n  if(db.Employee) {\n    await db.Employee.bulkCreate([\n      { name: 'John Doe' },\n      { name: 'Jane Doe' }\n    ]);\n  }else {\n    await QueryInterface.bulkInsert('employees', [\n\n    ]);\n  }\n\n}\n\nasync function down({context: QueryInterface}) {\n  await QueryInterface.bulkDelete('employees');\n}\n\nexport { up, down }\n"})}),"\n",(0,a.jsx)(n.h2,{id:"run-seeder",children:"Run seeder"}),"\n",(0,a.jsx)(n.p,{children:"We can run all seeders at once or a specific seeder."}),"\n",(0,a.jsx)(n.p,{children:"Run all:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op db:seed\n"})}),"\n",(0,a.jsx)(n.p,{children:"Run one seeder:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op db:seed <seeder_filename>\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op db:seed 2025_12_13_112951_seed_employee.js\n"})}),"\n",(0,a.jsx)(n.h2,{id:"reset-seeders",children:"Reset seeders"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op db:seed:reset\n"})}),"\n",(0,a.jsx)(n.p,{children:"The reset will undo all seeders."}),"\n",(0,a.jsx)(n.h2,{id:"rollback-seeder",children:"Rollback seeder"}),"\n",(0,a.jsx)(n.p,{children:"Rollback undoes the last seeder."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"node op db:seed:rollback\n"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>i});var r=s(6540);const a={},l=r.createContext(a);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);